@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Scale UI based on screen width for better display across different monitors */
  html {
    /* Base: 16px at 1920px width, scales proportionally */
    /* 2K (2560px): ~21px, 1080p (1920px): 16px */
    font-size: clamp(14px, calc(12px + 0.21vw), 18px);
  }

  /* Light mode - we won't use this much, but keeping for completeness */
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;
    --primary: 0 0% 9%;
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 96.1%;
    --secondary-foreground: 0 0% 9%;
    --muted: 0 0% 96.1%;
    --muted-foreground: 0 0% 45.1%;
    --accent: 0 0% 96.1%;
    --accent-foreground: 0 0% 9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 0 0% 3.9%;
    --radius: 0.75rem;
  }

  /* Dark mode - YouTube inspired with Apple polish */
  .dark {
    /* YouTube dark background: #0f0f0f */
    --background: 0 0% 6%;
    /* Slightly lighter for elevated surfaces: #1a1a1a */
    --background-elevated: 0 0% 10%;
    /* Text colors */
    --foreground: 0 0% 95%;
    --foreground-muted: 0 0% 65%;
    
    /* Cards - slightly elevated with subtle transparency for glass */
    --card: 0 0% 10%;
    --card-foreground: 0 0% 95%;
    
    /* Popover/dropdown menus */
    --popover: 0 0% 12%;
    --popover-foreground: 0 0% 95%;
    
    /* Primary action color - Brand blue accent */
    --primary: 210 94% 51%; /* #088afa */
    --primary-foreground: 0 0% 100%;
    
    /* Secondary - subtle gray */
    --secondary: 0 0% 16%;
    --secondary-foreground: 0 0% 95%;
    
    /* Muted - for subtle backgrounds */
    --muted: 0 0% 14%;
    --muted-foreground: 0 0% 55%;
    
    /* Accent - for hover states */
    --accent: 0 0% 18%;
    --accent-foreground: 0 0% 95%;
    
    /* Destructive - red for delete actions */
    --destructive: 0 70% 50%;
    --destructive-foreground: 0 0% 100%;
    
    /* Borders - very subtle */
    --border: 0 0% 18%;
    --input: 0 0% 18%;
    --ring: 0 90% 55%;
    
    /* Status colors for Kanban */
    --status-idea: 220 15% 50%;
    --status-script: 210 90% 55%;
    --status-recording: 30 95% 55%;
    --status-editing: 270 70% 60%;
    --status-scheduled: 45 95% 55%;
    --status-published: 140 70% 45%;
    
    /* Success/warning/info */
    --success: 140 70% 45%;
    --warning: 45 95% 55%;
    --info: 210 90% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  html {
    /* Force dark mode */
    color-scheme: dark;
  }
  
  body {
    @apply bg-background text-foreground antialiased;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
}

@layer components {
  /* Apple-style glass effect */
  .glass {
    @apply bg-white/5 backdrop-blur-xl border border-white/10;
  }
  
  .glass-hover {
    @apply hover:bg-white/10 transition-colors duration-200;
  }
  
  /* Stronger glass for modals/popovers */
  .glass-strong {
    @apply bg-black/40 backdrop-blur-2xl border border-white/10;
  }
  
  /* Subtle glass for cards */
  .glass-card {
    @apply bg-white/[0.03] backdrop-blur-md border border-white/[0.06] rounded-xl;
  }
  
  /* Glass sidebar */
  .glass-sidebar {
    @apply bg-black/20 backdrop-blur-xl border-r border-white/[0.06];
  }
  
  /* Glow effects for emphasis */
  .glow-primary {
    box-shadow: 0 0 20px -5px hsl(var(--primary) / 0.4);
  }
  
  .glow-sm {
    box-shadow: 0 0 10px -3px hsl(var(--primary) / 0.3);
  }
  
  /* Status badges */
  .badge-idea {
    @apply bg-gray-500/20 text-gray-300 border-gray-500/30;
  }
  .badge-script {
    @apply bg-blue-500/20 text-blue-300 border-blue-500/30;
  }
  .badge-recording {
    @apply bg-orange-500/20 text-orange-300 border-orange-500/30;
  }
  .badge-editing {
    @apply bg-purple-500/20 text-purple-300 border-purple-500/30;
  }
  .badge-scheduled {
    @apply bg-yellow-500/20 text-yellow-300 border-yellow-500/30;
  }
  .badge-published {
    @apply bg-green-500/20 text-green-300 border-green-500/30;
  }
  
  /* Smooth scrollbar for dark mode */
  .custom-scrollbar::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }
  .custom-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-white/10 rounded-full;
  }
  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    @apply bg-white/20;
  }
}

@layer utilities {
  /* Text gradient for fancy headings */
  .text-gradient {
    @apply bg-gradient-to-r from-white to-white/60 bg-clip-text text-transparent;
  }
  
  /* Animate in */
  .animate-in {
    animation: animateIn 0.3s ease-out;
  }
  
  @keyframes animateIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  /* Subtle hover lift */
  .hover-lift {
    @apply transition-transform duration-200 hover:-translate-y-0.5;
  }
}

/* Tiptap Editor Styles */
.ProseMirror {
  outline: none;
}

.ProseMirror p.is-editor-empty:first-child::before {
  color: hsl(var(--muted-foreground) / 0.3);
  content: attr(data-placeholder);
  float: left;
  height: 0;
  pointer-events: none;
}

/* Prose styling for Tiptap content */
.prose {
  color: hsl(var(--foreground));
  max-width: none;
}

.prose h1 {
  font-size: 2.5em;
  font-weight: 800;
  line-height: 1.2;
  margin-top: 1em;
  margin-bottom: 0.5em;
  color: hsl(var(--foreground));
}

.prose h2 {
  font-size: 2em;
  font-weight: 700;
  line-height: 1.3;
  margin-top: 0.8em;
  margin-bottom: 0.4em;
  color: hsl(var(--foreground));
}

.prose h3 {
  font-size: 1.5em;
  font-weight: 600;
  line-height: 1.4;
  margin-top: 0.6em;
  margin-bottom: 0.3em;
  color: hsl(var(--foreground));
}

.prose p {
  margin-top: 0.75em;
  margin-bottom: 0.75em;
}

.prose strong {
  font-weight: 700;
  color: hsl(var(--foreground));
}

.prose em {
  font-style: italic;
}

.prose u {
  text-decoration: underline;
}

.prose s {
  text-decoration: line-through;
}

.prose ul {
  list-style-type: disc;
  padding-left: 1.5em;
  margin-top: 0.75em;
  margin-bottom: 0.75em;
}

.prose ol {
  list-style-type: decimal;
  padding-left: 1.5em;
  margin-top: 0.75em;
  margin-bottom: 0.75em;
}

.prose li {
  margin-top: 0.25em;
  margin-bottom: 0.25em;
}

.prose li p {
  margin: 0;
}

.prose code {
  background: hsl(var(--muted));
  padding: 0.2em 0.4em;
  border-radius: 0.25em;
  font-size: 0.875em;
  font-family: monospace;
}

.prose pre {
  background: hsl(var(--muted));
  padding: 1em;
  border-radius: 0.5em;
  overflow-x: auto;
  margin-top: 1em;
  margin-bottom: 1em;
}

.prose pre code {
  background: none;
  padding: 0;
  border-radius: 0;
  font-size: 0.875em;
}

.prose blockquote {
  border-left: 4px solid hsl(var(--primary));
  padding-left: 1em;
  margin-left: 0;
  margin-top: 1em;
  margin-bottom: 1em;
  font-style: italic;
  color: hsl(var(--muted-foreground));
}

.prose a {
  color: hsl(var(--primary));
  text-decoration: underline;
}

.prose a:hover {
  color: hsl(var(--primary) / 0.8);
}

/* Toast notifications - liquid glass theme styling */
[data-sonner-toaster] {
  font-family: inherit !important;
}

[data-sonner-toast] {
  min-width: 350px !important;
  max-width: 450px !important;
  position: relative !important;
  overflow: hidden !important;
}

/* Liquid glass shimmer effect */
[data-sonner-toast]::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: linear-gradient(
    45deg,
    transparent 30%,
    rgba(255, 255, 255, 0.1) 50%,
    transparent 70%
  );
  animation: shimmer 3s infinite;
  pointer-events: none;
}

@keyframes shimmer {
  0% {
    transform: translateX(-100%) translateY(-100%) rotate(45deg);
  }
  100% {
    transform: translateX(100%) translateY(100%) rotate(45deg);
  }
}

/* Enhanced glass blur with color tints */
[data-sonner-toast] {
  background: rgba(255, 255, 255, 0.03) !important;
  backdrop-filter: blur(20px) saturate(180%) !important;
  -webkit-backdrop-filter: blur(20px) saturate(180%) !important;
  box-shadow: 
    0 8px 32px 0 rgba(0, 0, 0, 0.37),
    inset 0 1px 0 0 rgba(255, 255, 255, 0.1),
    0 0 0 1px rgba(255, 255, 255, 0.05) !important;
}

[data-sonner-toast][data-type="success"] svg {
  color: hsl(var(--success)) !important;
  filter: drop-shadow(0 0 8px hsl(var(--success) / 0.5));
}

[data-sonner-toast][data-type="error"] svg {
  color: hsl(var(--destructive)) !important;
  filter: drop-shadow(0 0 8px hsl(var(--destructive) / 0.5));
}

[data-sonner-toast][data-type="warning"] svg {
  color: hsl(var(--warning)) !important;
  filter: drop-shadow(0 0 8px hsl(var(--warning) / 0.5));
}

[data-sonner-toast][data-type="info"] svg {
  color: hsl(var(--info)) !important;
  filter: drop-shadow(0 0 8px hsl(var(--info) / 0.5));
}

